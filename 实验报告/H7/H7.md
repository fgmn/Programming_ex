### ä¸€ã€ç®€ç­”

1. æœ‰å¯èƒ½ï¼Œå½“ä¸¤ç‚¹ä¸è¿é€šæ—¶å®ƒä»¬çš„è·ç¦»æ— ç©·å¤§ï¼Œæˆ‘ä»¬ä¸€èˆ¬ç”¨ä¸€ä¸ªè¾ƒå¤§å€¼ INF è¡¨ç¤ºã€‚è§‚å¯Ÿ $ ğ‘“[ğ‘˜][ğ‘¥][ğ‘¦] = min(ğ‘“[ğ‘˜âˆ’1][ğ‘¥][ğ‘¦], ğ‘“[ğ‘˜âˆ’1][ğ‘¥][ğ‘˜]+ğ‘“[ğ‘˜âˆ’1][ğ‘˜][ğ‘¦]) $ æˆ‘ä»¬å‘ç°å½“æ›´æ–° $ f[k][*][*] $ æ—¶ï¼Œå§‹ç»ˆæ»¡è¶³å…³ç³» $ ğ‘“[ğ‘˜âˆ’1][ğ‘¥][ğ‘˜] == ğ‘“[ğ‘˜][ğ‘¥][ğ‘˜] $ å’Œ $ ğ‘“[ğ‘˜âˆ’1][ğ‘˜][ğ‘¦] == ğ‘“[k][ğ‘˜][ğ‘¦] $ï¼Œ å› æ­¤å¯ä»¥è¡¨è¾¾æˆ $ ğ‘“[ğ‘¥][ğ‘¦] = min(ğ‘“[ğ‘¥][ğ‘¦], ğ‘“[ğ‘¥][ğ‘˜]+ğ‘“[ğ‘˜][ğ‘¦]) $ .
2. å½“æœ€çŸ­è·¯çš„é•¿åº¦æˆ–è€…ä¸€äº›è¾¹è¢«æ¾å¼›æ¬¡æ•°è¶…è¿‡ $ n - 1 $ ,åˆæˆ–è€…åœ¨ç¬¬ n æ¬¡æ¾å¼›æ“ä½œæ—¶è¿˜å­˜åœ¨è¾¹èƒ½å¤Ÿè¢«æˆåŠŸæ¾å¼›ã€‚


### äºŒã€ä½œä¸šH7

### B. ä¹°èœ

##### é¢˜ç›®å¤§æ„
æ±‚ä¸¤ä¸ªçº¿æ®µé›†åˆçš„ç›¸äº¤é•¿åº¦ã€‚
##### è§£æ³•
æ–¹æ³•ä¸€ï¼š å¯ä»¥ç›´æ¥åŒæŒ‡é’ˆæ‰«æä¸¤ä¸ªé›†åˆè¿›è¡Œåˆ¤æ–­ã€‚
æ–¹æ³•äºŒï¼š ç‚æœµè‰æ ‘ç»´æŠ¤çº¿æ®µé›†åˆï¼Œå°†å° H ç»è¿‡çš„åŒºé—´èµ‹å€¼ä¸º1,å°†å° W ç»è¿‡çš„åŒºé—´è¿›è¡Œæ±‚å’Œã€‚ 
##### æ—¶é—´å¤æ‚åº¦
æ–¹æ³•ä¸€ï¼š $ O(2 * n) $
æ–¹æ³•äºŒï¼š $ O(nlogn) $
##### ä»£ç 
```cpp
// æ–¹æ³•ä¸€ï¼š
vector<pair<int, int> > a(2005);

int main() {
    ios::sync_with_stdio(false);
    cin.tie(nullptr);

    int n;
    cin >> n;

    int x, y;
    for (int i = 0; i < n; i++) {
        cin >> x >> y;
        a[i] = {x, y};
    } 

    int ans = 0, j = 0;
    for (int i = 0; i < n; i++) {
        cin >> x >> y;
        if (a[j].first >= y) {
            continue;
        } 
        
        TAG: while (j < n && a[j].second <= x) {
            j++;
        }

        if (j < n) ans += max(min(a[j].second, y) - max(a[j].first, x), 0);

        if (j < n && y > a[j].second) {
            j++;
            goto TAG;
        }

        // cout << "(x, y): " << x << ' ' << y << '\n';
        // cout << "(fi, se):" << a[j].first << ' ' << a[j].second << '\n';
    }
    cout << ans;
    return 0;
}

// æ–¹æ³•äºŒï¼š
struct node {
    ll l ,r;
    mutable ll v;
    node(ll l, ll r, ll v) : l(l), r(r), v(v) {}
    bool operator<(const node &a) const { return l < a.l; }
};

set<node> tree;

set<node>::iterator split(ll pos) {
    auto it = tree.lower_bound(node(pos, 0, 0));
    if (it != tree.end() && it->l == pos)
        return it;
    it--;
    ll L = it->l, R = it->r, V = it->v;
    tree.erase(it);
    tree.insert(node(L, pos - 1, V));
    return tree.insert(node(pos, R, V)).first;
}

void assign(ll l, ll r, ll v) {
    auto end = split(r + 1), begin = split(l);
    tree.erase(begin, end);
    tree.insert(node(l, r, v));
}

void solve() {
    int n; cin >> n;
    tree.insert(node(1, n, 0));
    int a, b;
    for (int i = 1; i <= n; i++) {
        cin >> a >> b;
        assign(a, b, 1);
    }

    int ans = 0;
    for (int i = 1; i <= n; i++) {
        cin >> a >> b;
        auto end = split(b + 1), begin = split(a);
        for (auto j = begin; j != end; j++) {
            if (j->v == 1)  {
                ans += (j->r - j->l);
                // cout << j->l << ' ' << j->r << '\n';
            }
        }
    }
    cout << ans;
}

int main() {
    ios::sync_with_stdio(false);
    cin.tie(nullptr);
    solve();
    return 0;
}

```

### C. ç©¿è¶Šè™«æ´

##### é¢˜ç›®å¤§æ„
åˆ¤æ–­å›¾ä¸­æ˜¯å¦å­˜åœ¨è´Ÿç¯ã€‚
##### è§£æ³•
spfa,åˆ¤æ–­æ˜¯å¦å­˜åœ¨æœ€çŸ­è·¯é•¿åº¦ $ >= n $ .
##### æ—¶é—´å¤æ‚åº¦
$ O(km) $
##### ä»£ç 
```cpp
vector<pair<int, int> > g[505];
int cnt[505], dis[505];
bool vis[505];
int n, m, w;

void spfa(int s) {
    for (int i = 1; i <= n; i++) {
        vis[i] = cnt[i] = 0;
        dis[i] = INT32_MAX;
    }

    dis[s] = 0;
    vis[s] = true;

    queue<int> Q;
    Q.push(s);

    while (!Q.empty()) {
        int u = Q.front();
        Q.pop();
        vis[u] = false;

        for (auto i : g[u]) {
            if (dis[i.second] > dis[u] + i.first) {
                dis[i.second] = dis[u] + i.first;
                cnt[i.second] = cnt[u] + 1;
                if (cnt[i.second] >= n) {
                    cout << "YES\n";
                    return;
                }
                if (!vis[i.second]) {
                    vis[i.second] = 1;
                    Q.push(i.second);
                }
            }
        }
    }

    cout << "NO\n";
}

int main() {
    ios::sync_with_stdio(false);
    cin.tie(nullptr);
    
    int F; cin >> F;
    while (F--) {
        
        cin >> n >> m >> w;
        
        for (int i = 1; i <= n; i++) {
            g[i].clear();
        }

        int s, e, t;
        for (int i = 1; i <= m; i++) {
            cin >> s >> e >> t;
            g[s].push_back({t, e});
            g[e].push_back({t, s});
        }

        for (int i = 1; i <= w; i++) {
            cin >> s >> e >> t;
            g[s].push_back({-t, e});
        }

        spfa(1);
    }

    return 0;
}
```